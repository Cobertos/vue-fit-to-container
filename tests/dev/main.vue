<template>
  <div>
    aaaa
    <div>
      TEST
    </div>
    <div style="padding: 20px; background-color: #444; height: 100px; color: #FFF; font-family: 'Open Sans', sans-serif;"
      @mousedown="mouseDown"
      @mouseup="mouseUp">
      <p ref="af" v-overflow-resize style="max-height:100px; margin:0;"> {{ testText }}</p>
    </div>
  </div>
</template>

<script>
import faker from "faker";

const baseWords = `ðŸŽƒðŸ‘»ðŸŽƒðŸ‘»ðŸŽƒðŸ‘»ðŸ‘»ðŸ‘»ðŸŽƒðŸ‘» spooky shit spooky sHitðŸŽƒ thats âœ” some spookyðŸŽƒðŸŽƒshit rightðŸŽƒðŸŽƒth ðŸŽƒ ereðŸŽƒðŸŽƒðŸŽƒ rightâœ”there âœ”âœ”if i do Æ½aÒ¯ so my selï½† ðŸ’¯ i say so ðŸ’¯ thats what im talking about right there right there (chorus: Ê³á¶¦áµÊ°áµ— áµ—Ê°áµ‰Ê³áµ‰) mMMMMáŽ·ÐœðŸ’¯ ðŸŽƒðŸŽƒ ðŸŽƒÐO0Ðžà¬ ï¼¯ OOï¼¯OÐžà¬ à¬ Ooooáµ’áµ’áµ’ áµ’áµ’áµ’áµ’áµ’áµ’ðŸŽƒ ðŸŽƒ ðŸŽƒ ðŸŽƒ ðŸ’¯ ðŸŽƒ ðŸ‘»ðŸ‘» ðŸ‘» ðŸŽƒðŸŽƒspooky shit`;
export default {
  data () {
    return {
      now: Date.now()
    };
  },
  mounted(){
    this.now = Date.now();
    this.$options.intervalId = setInterval(() => this.now = Date.now(), 33);
  },
  computed:{
    testText() {
      // [0,1] at 0.125Hz
      const osc = (Math.sin(this.now / 1000 / 8 * Math.PI * 2) + 1) / 2;
      // [5,50]
      const words = osc * 45 + 5;
      return baseWords.split(' ').slice(0,words).join(' ');
    }
  },
  methods: {
    mouseDown() {
      clearInterval(this.$options.intervalId)
    },
    mouseUp() {
      this.$options.intervalId = setInterval(() => this.now = Date.now(), 33);
    }
  }
};
</script>
